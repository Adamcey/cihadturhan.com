/*
 * cihadturhan.com 0.9.0
 * Interactive portfolio of Cihad Turhan which includes WebGL, D3, CSS3 and other visual demos.
 *
 * http://www.cihadturhan.com
 *
 * Copyright 2014-2015, Cihad Turhan
 * Released on: April 9, 2015
*/
function Works(){function a(){TweenMax.fromTo(f,1,{transform:f.css("transform")},{rotationX:i+"cw",rotationY:360+j+"cw",ease:Power4.easeInOut,onComplete:function(){h=!1}}),TweenMax.to(g,1,{opacity:1,ease:Power4.easeInOut})}function b(a){TweenMax.fromTo(f,1,{transform:f.css("transform")},{rotationX:0,rotationY:180,ease:Power4.easeInOut,onComplete:a}),TweenMax.to(g,1,{opacity:0,ease:Power4.easeInOut}),h=!0}function c(a,b){var c=$("#works .menu").width()*-b,d=$("#works .menu-body");TweenMax.to(d,1,{x:c,opacity:0,ease:Power4.easeInOut,onComplete:function(){$("#works .works-title").text(a.name),$("#works-description").html(a.description),$("#works-date").text(a.startDate+" - "+a.endDate),$("#works-coffee").empty();for(var b=Math.ceil(a.timeSpent/8*.2),e=0;b>e;e++)$("#works-coffee").append($("<span>").addClass("icon-coffee"));$("#works-litres").text(b),$("#works-tags").empty(),a.tags.forEach(function(a){$("#works-tags").append($("<li>").text(a))}),TweenMax.fromTo(d,1,{opacity:0,x:-c},{opacity:1,x:0,delay:.1,ease:Power4.easeInOut})}})}function d(d,f){var g=l[d];return g?(c(g,f),void b(function(){e(g),setTimeout(a,100)})):void console.log("Wrong project id")}function e(a){g.css({"background-image":'url("'+a.backgroundLink+'")'}),f.empty(),a.positions.forEach(function(b){f.append($("<div>").css({left:b.left+"px",top:b.top+"px",width:b.width+"px",height:b.height+"px","background-position":b.backgroundX+"px "+b.backgroundY+"px",transform:b.z?"translateZ("+b.z+"px)":"none","background-image":'url("'+a.foregroundLink+'")'}))})}var f=$("#works .card"),g=$("#works .background"),h=!0,i=0,j=0,k=0;TweenMax.to(f,0,{rotationX:0,rotationY:179}),TweenMax.to(g,1,{opacity:0}),$(window).on("works-enter",function(){a()}),$('#works .works-nav a[href="#works-next"]').on("click",function(a){a.preventDefault(),h||(++k==l.length&&(k=0),d(k,1))}),$('#works .works-nav a[href="#works-prev"]').on("click",function(a){a.preventDefault(),h||(-1==--k&&(k=l.length-1),d(k,-1))}),$("#works").on("mousemove",function(a){j=-($("#works").innerWidth()/2-a.clientX)/20,i=($("#works").innerHeight()/2-a.clientY)/10,h||(TweenMax.to(f,0,{rotationX:i,rotationY:j}),a.preventDefault())});var l=CV.works;c(l[0],1),e(l[0]),b()}function adjustEditor(a){a.setHighlightActiveLine(!1),a.setShowPrintMargin(!1),a.setReadOnly(!0),a.setTheme("ace/theme/github"),a.renderer.setShowGutter(!1),a.getSession().setMode("ace/mode/javascript"),a.session.selection.clearSelection(),a.setBehavioursEnabled(!1),a.renderer.setStyle("disabled",!0),a.setOption("dragEnabled",!1),a.blur()}function greetings(){console.log("୧༼ ͡◉ل͜ ͡◉༽୨"),console.log("Hello!"),console.log("Are you here for the source code?"),console.log("Don't waste your time digging minified code."),console.log("Just send mail to contact@cihadturhan.com. I'll send you finished version."),console.log("Have a nice day. Cheers");for(var a in console)console[a]=function(){}}function initListeners(){$w=$(window),$(window).on("about-enter",About),$(window).on("contact-enter",Contact)}function freeScroll(){$(".full-wh").on("scrollSpy:enter",function(){$(this).css("visibility","visible")}),$(".full-wh").on("scrollSpy:exit",function(){$(this).css("visibility","hidden")}),$(".full-wh").scrollSpy(),TweenMax.to($("header"),1,{y:0,ease:Power4.easeOut}),TweenMax.to($("#main .full-wh-footer"),1,{y:0,ease:Power4.easeOut}),$("html").removeClass("no-scroll");var a=$(window),b=null,c=.9,d=[];$("body>.full-wh").each(function(){d.push({top:$(this).position().top,height:$(this).height(),el:$(this)})});var e=d[1].top;a.on("scroll",function(){var b=a.scrollTop(),c=$(window).height(),f=$("body").height()-c,g=b/f,h=$("#fake-nav").width(),i=g*h*6-h;TweenMax.to($("#fake-nav"),0,{x:i}),TweenMax.to($("#fake-nav>ul"),0,{x:-i});for(var j,k=0;k<d.length;k++)if(j=d[k],b+c>e&&b+c>j.top+.5*j.height&&b+c<j.top+j.height){a.trigger(j.el.attr("id")+"-enter"),console.log(j.el.attr("id")+"-enter"),e=j.top+j.height;break}b>e&&(e=b+c)}),a.on("mousewheel DOMMouseScroll",function(d){var e=d.originalEvent.wheelDelta/120||-d.originalEvent.detail/3,f=a.scrollTop();return f<=a.height()&&e>0?!1:(clearInterval(b),void(b=setTimeout(function(){var b=a.scrollTop(),d=a.height(),e=Math.round(b/d),f=e*d;TweenMax.to(a,c,{scrollTo:{y:f,autoKill:!0},ease:Power1.easeOut,autoKill:!0,overwrite:5})},600)))})}CV={contact:{name:"Cihad Turhan",cv:"cv.js",links:[{name:"Mail",icon:"img/social/email.svg",color:"#0C9688",href:"mailto:contact@cihadturhan.com",size:56},{name:"Twitter",icon:"img/social/twitter.svg",size:28,href:"https://twitter.com/CihadTurhan",color:"#2CA9E1"},{name:"Facebook",icon:"img/social/facebook.svg",size:28,href:"https://facebook.com/cihadturhan",color:"#3B5999"},{name:"Github",icon:"img/social/github.svg",size:28,href:"https://github.com/cihadturhan",color:"#0A0F19"},{name:"Codepen",icon:"img/social/codepen.svg",size:28,href:"http://codepen.io/cihadturhan/",color:"#1E8CBE"},{name:"Medium",icon:"img/social/medium.svg",size:28,href:"https://medium.com/@cihadturhan",color:"#041904"},{name:"Pocket",icon:"img/social/pocket.svg",href:"http://sharedli.st/cihadturhan",size:28,color:"#EE4056"},{name:"Dribble",icon:"img/social/dribble.svg",href:"https://dribbble.com/cihadturhan",size:28,color:"#EA4C89"}],passiveLinks:[]},skills:[{name:"HTML",value:90},{name:"CSS",value:90},{name:"jQuery",value:90},{name:"Sketch",value:80},{name:"PHP",value:60},{name:"WebGL",value:90},{name:"D3",value:90},{name:"Node.js",value:60},{name:"Angular.js",value:50},{name:"Swift",value:40}],about:{love:[{name:"Data Visulization",value:9,desc:"Without visualization, data is nothing.",id:"datavis"},{name:"Physics",value:8,desc:"Definitely pleased to graduate.",id:"physics"},{name:"Red Pandas",value:5,desc:"They have fluffy tails.",id:"redpanda"},{name:"Games",value:4,desc:"Who doesn't love to play either",id:"game"},{name:"My PC & Mac",value:3,desc:"PC for code, Mac for design.",id:"pcmac"},{name:"Family & Friends",value:10,desc:"They make my life complete",id:"family"},{name:"Myself",value:1,desc:"Sometimes I love myself",id:"me1"}],hate:[{name:"Site Builders",value:5,desc:"Never offer me wordpress etc job!",id:"wordpress"},{name:"Prate",value:4,desc:"Life is too short to speak much.",id:"prate"},{name:"Politics",value:9,desc:"Please...",id:"politics"},{name:"Rush",value:3,desc:"Rush kills creativity. Slow down.",id:"rush"},{name:"Others' work",value:7,desc:"Who loves to do others' work anyway?",id:"otherworks"},{name:"Myself",value:1,desc:"Sometimes I hate myself",id:"me2"}]},labs:[{name:"Hydrogen Atom",description:"A WebGL experiment which visualizes probablity distribution of Hydrogen atom calculated by its wavefunction. To summarize, the probablity of an electron to be at a point depends on the density of the dots when the core of atom is placed at origin of the grid. Zoom in and out to see seperation of probablities.",difficulty:4.5,tags:["Quantum Mechanics","WebGL","ShaderParticleEngine"],backgroundLink:"img/lab/h-atom.png",refs:[{type:"src",url:"https://github.com/cihadturhan/h-prob-density"},{type:"image",url:"http://en.wikipedia.org/wiki/File:Hydrogen_Density_Plots.png"},{type:"doc",url:"http://physicsworld.com/cws/article/news/2013/may/23/quantum-microscope-peers-into-the-hydrogen-atom"}],url:"http://cihadturhan.github.io/h-prob-density/"},{name:"Gravional Lensing",description:'A simple canvas demo to show how a supermassive blackhole warps the vision when it\'s floating in the space.  Here is a <a href="http://iopscience.iop.org/0264-9381/32/6/065001/pdf/0264-9381_32_6_065001.pdf" target="_blank"> an article (pdf) </a> if you are interested. Examine the images instead of reading boring long scientific stuff.',difficulty:2.5,tags:["Astronomy","Canvas","Image Processing"],backgroundLink:"img/lab/gravitional-lensing.png",refs:[{type:"video",url:"http://youtu.be/FCoxYlpJq9s?t=1m13s"},{type:"image",url:"http://upload.wikimedia.org/wikipedia/commons/d/d6/BlackHole_Lensing.gif"}],url:"lab/gravitional-lensing/"},{name:"Chart Transition",description:"Interactive chart transition from one to another with a smooth transition.",difficulty:2.5,tags:["D3"],backgroundLink:"img/lab/charttransition.png",refs:[],url:"lab/charttransition/"},{name:"3D CSS Paper Plane",description:"Paper plane animation made with rotate3d property comes with CSS3",difficulty:2.5,tags:["CSS3"],backgroundLink:"img/lab/cssplane.png",refs:[],url:"lab/cssplane/"},{name:"Rating Analysis",description:"A small side project made with D3 to visualize daily top 100 TV ratings ordered by AMR%.",difficulty:3,tags:["D3","TV","Rating"],backgroundLink:"img/lab/rating-analysis.png",refs:[{type:"doc",url:"http://sbtanaliz.com/news.php?nid=4"}],url:"lab/sortedbars/"},{name:"Jquery Aim",description:"A proof of concept that anticipates user intent in lieu of rollovers or clicks. See references for code and article",difficulty:2,tags:["UX","jQuery","Fitts' Law"],backgroundLink:"img/lab/jquery-aim.png",refs:[{type:"doc",url:"https://medium.com/@cihadturhan/a-ux-idea-i-know-where-you-are-aiming-3e00d152afb2"},{type:"src",url:"https://github.com/cihadturhan/jquery-aim"}],url:"http://cihadturhan.github.io/jquery-aim/examples/dropdown.html"},{name:"Yes/No",description:'Simple recreation of YES/NO Shape by <a href="http://en.wikipedia.org/wiki/Markus_Raetz" target="_blank">Markus Reatz</a> in WebGL',difficulty:1,tags:["CSS3","SVG","Illustrator"],backgroundLink:"img/lab/yesno.png",refs:[{type:"video",url:"https://www.youtube.com/watch?v=eO1yYBm5wSo"}],url:"lab/yesno/"},{name:"Rain-Bros SVG",description:'SVG version of animation done by <a href="https://www.twitter.com/somethingsavage">@somethingsavage</a>',difficulty:2.5,tags:["WebGL","3dsMax"],backgroundLink:"img/lab/colorwavelengths.png",refs:[{type:"video",url:"https://d13yacurqjgara.cloudfront.net/users/6108/screenshots/1515226/_rain-bros_master-dribbblr.gif"},{type:"doc",url:"https://dribbble.com/shots/1515226-Rain-Bros"}],url:"lab/colorwavelengths/"}],works:[{name:"Disap",description:"A Social Media Analitics web app built on custom developed module system to ensure high performance and stability.",timeSpent:1200,startDate:"Nov 2013",endDate:"May 2014",tags:["PHP","MySQL","Elasticsearch","jQuery","Angular.js","Bootstrap","Custom Modules","SVG","Canvas","Leaflet","Highcharts","Twitter API","D3.js","Google Maps","Slickgrid"],backgroundLink:"img/works/disap-icon-blur.png",foregroundLink:"img/works/disap.png",positions:[{left:0,top:0,width:900,height:600,backgroundY:0,backgroundX:0},{left:284,top:111,width:473,height:48,backgroundX:-175,backgroundY:-918,z:30},{left:7,top:39,width:136,height:453,backgroundX:-10,backgroundY:-625,z:40},{left:163,top:66,width:717,height:38,backgroundX:-173,backgroundY:-1268,z:30},{left:163,top:168,width:715,height:283,backgroundX:-175,backgroundY:-975,z:50},{left:225,top:179,width:619,height:240,backgroundX:-175,backgroundY:-1321,z:60},{left:188,top:194,width:650,height:218,backgroundX:-173,backgroundY:-1579,z:80},{left:345,top:247,width:493,height:177,backgroundX:-173,backgroundY:-1812,z:100},{left:163,top:460,width:715,height:142,backgroundX:-175,backgroundY:-625,z:30}],backgroundImg:null,foregroundImg:null},{name:"Sorate",description:"An innovative hybrid web application which gathers and relates Twitter vs TV Ratings data.",timeSpent:1e3,startDate:"Jun 2013",endDate:"Oct 2014",tags:["PHP","MySQL","jQuery","jQuery UI","Custom Modules","SVG","Canvas","Highcharts","Twitter API","D3.js","Transit.js"],backgroundLink:"img/works/sorate-icon-blur.png",foregroundLink:"img/works/sorate.png",positions:[{left:0,top:0,width:900,height:600,backgroundY:0,backgroundX:0},{left:2,top:47,width:104,height:527,backgroundX:0,backgroundY:-612,z:40},{left:102,top:45,width:794,height:47,backgroundX:-106,backgroundY:-612,z:20},{left:857,top:50,width:33,height:42,backgroundX:-109,backgroundY:-664,z:40},{left:168,top:98,width:220,height:220,backgroundX:-142,backgroundY:-665,z:40},{left:388,top:99,width:220,height:220,backgroundX:-358,backgroundY:-665,z:60},{left:607,top:98,width:220,height:440,backgroundX:-575,backgroundY:-665,z:80},{left:166,top:319,width:440,height:220,backgroundX:-141,backgroundY:-879,z:100},{left:10,top:8,width:122,height:32,backgroundX:-158,backgroundY:-1104,z:40}]},{name:"Eksenlive",description:"First and unique Live TV Rating Measurement Platform in the world. It measures rating of more than 200 channels in realtime and provides live video streaming.",timeSpent:1440,startDate:"Jun 2012",endDate:"Jan 2013",tags:["PHP","MySQL","jQuery","Flotcharts","Highcharts","Video Streaming","Realtime"],backgroundLink:"img/works/eksenlive-icon-blur.png",foregroundLink:"img/works/eksenlive.png",positions:[{left:0,top:0,width:900,height:600,backgroundX:0,backgroundY:0},{left:177,top:223,width:565,height:29,backgroundX:-2,backgroundY:-603,z:40},{left:85,top:85,width:752,height:130,backgroundX:0,backgroundY:-633,z:20},{left:178,top:251,width:565,height:14,backgroundX:-1,backgroundY:-769,z:30},{left:178,top:280,width:565,height:16,backgroundX:-1,backgroundY:-783,z:30},{left:186,top:328,width:213,height:202,backgroundX:-3,backgroundY:-811,z:100},{left:397,top:389,width:187,height:139,backgroundX:-216,backgroundY:-874,z:80},{left:582,top:439,width:183,height:89,backgroundX:-403,backgroundY:-924,z:60}]},{name:"Eksenplus",description:"An experimental but unique web app which analyses previous and current status of any TV program and predicts the rating the future episodes. In addition, the app provides the reason why rating mesurement increased or decreased.",timeSpent:480,startDate:"Feb 2013",endDate:"Apr 2013",tags:["PHP","jQuery","SVG","Canvas","Highcharts","Twitter API","D3.js","Swiper"],backgroundLink:"img/works/eksenplus-icon-blur.png",foregroundLink:"img/works/eksenplus.png",positions:[{left:0,top:0,width:900,height:600,backgroundX:0,backgroundY:0},{left:799,top:387,width:70,height:22,backgroundX:-820,backgroundY:-606,z:10},{left:0,top:75,width:585,height:502,backgroundX:-0,backgroundY:-1058,z:20},{left:12,top:83,width:585,height:502,backgroundX:-0,backgroundY:-600,z:40},{left:29,top:104,width:585,height:473,backgroundX:-0,backgroundY:-1568,z:70},{left:0,top:80,width:585,height:473,backgroundX:-314,backgroundY:-2026,z:130}]},{name:"H**** S****",description:'An upcoming web experiment which involves WebGL visualization and WebAudio signal processing. I and <a href="https://twitter.com/ademilter" target="_blank">@ademilter</a> collabrated on the frontend side.',timeSpent:180,startDate:"Feb 2015",endDate:"Mar 2015",tags:["WebGL","WebAudio API","jQuery","Polyfills"],backgroundLink:"img/works/vdf-icon-blur.png",foregroundLink:"img/works/vdf.png",positions:[{left:0,top:0,width:900,height:600,backgroundX:0,backgroundY:0},{left:0,top:505,width:900,height:65,backgroundX:-0,backgroundY:-600,z:20},{left:722,top:520,width:111,height:31,backgroundX:0,backgroundY:-665,z:40},{left:13,top:445,width:216,height:45,backgroundX:-114,backgroundY:-665,z:20},{left:0,top:60,width:896,height:473,backgroundX:0,backgroundY:-730,z:100},{left:201,top:66,width:498,height:473,backgroundX:0,backgroundY:-1212,z:70},{left:260,top:113,width:381,height:379,backgroundX:-520,backgroundY:-1216,z:40},{left:318,top:170,width:259,height:255,backgroundX:-639,backgroundY:-1600,z:10},{left:204,top:102,width:490,height:394,backgroundX:-0,backgroundY:-1685,z:140},{left:87,top:412,width:723,height:86,backgroundX:-178,backgroundY:-2157,z:160}]},{name:"T****",description:"Ongoing personal project which I'm doing in my spare time. It will be an anonymous chat application and will be released in iOS platform. ",timeSpent:100,startDate:"Jan 2015",endDate:"-",tags:["Swift","Node.js","Socket.io","Realtime"],backgroundLink:"img/works/tickr-icon-blur.png",foregroundLink:"img/works/tickr.png",positions:[{left:0,top:0,width:900,height:600,backgroundX:0,backgroundY:0},{left:344,top:19,width:474,height:568,backgroundX:0,backgroundY:-600,z:120},{left:207,top:86,width:487,height:103,backgroundX:0,backgroundY:-1168,z:140},{left:339,top:289,width:224,height:224,backgroundX:-477,backgroundY:-603,z:150},{left:76,top:20,width:527,height:580,backgroundX:0,backgroundY:-1271,z:90},{left:274,top:9,width:468,height:587,backgroundX:0,backgroundY:-1851,z:60},{left:0,top:0,width:521,height:600,backgroundX:-379,backgroundY:-2400,z:30}]},{name:"More?",description:"Of course there is more, contact me if you are interested.",timeSpent:1,startDate:"Jan 2015",endDate:"",tags:["..."],backgroundLink:"img/works/more-icon-blur.png",foregroundLink:"img/works/more.png",positions:[{left:0,top:0,width:900,height:600,backgroundX:0,backgroundY:0},{left:378,top:80,width:144,height:393,backgroundX:0,backgroundY:-600,z:20},{left:378,top:80,width:144,height:393,backgroundX:0,backgroundY:-600,z:20},{left:378,top:80,width:144,height:393,backgroundX:0,backgroundY:-600,z:21},{left:378,top:80,width:144,height:393,backgroundX:0,backgroundY:-600,z:22},{left:378,top:80,width:144,height:393,backgroundX:0,backgroundY:-600,z:23},{left:378,top:80,width:144,height:393,backgroundX:0,backgroundY:-600,z:24},{left:378,top:80,width:144,height:393,backgroundX:0,backgroundY:-600,z:25}]}]},CodeAnim=function(){function a(){var a=0,b=f.getContext("2d");timer2=setInterval(function(){return a==c?(d.find("canvas").hide(),void clearInterval(timer2)):(0==a&&d.find("canvas").show(),void b.putImageData(h[a++],0,0))},30)}function b(a,b){html2canvas(e,{onrendered:function(e){for(var i=e.width,k=e.height,l=0;c>l;l++)h[l]=glitch.glitchImage(e,(c-a)/c*3+1);$(e).addClass("glitch-canvas").hide(),f=e,g=$("<canvas>").attr({width:i,height:k}).addClass("overlay-canvas").hide();var m=g[0].getContext("2d");for(m.fillStyle="rgb(10,10,10)",j=0;j<k;j+=2)m.fillRect(0,j,i,1);d.append(f),d.append(g),b()}})}var c=6,d=$(".main-pane.right-pane"),e=$(".main-pane.right-pane>table"),f=null,g=null,h=new Array(c);return{init:function(a){a=a?a:function(){},b(0,a)},start:function(){a(),setTimeout(a,1600)}}},_CodeAnim=function(a){function b(a,b,c){if(h)for(var d=0;d<c.childNodes.length;d++)c.childNodes[d].textContent=e[a][b][d];else setTimeout(function(){for(var d=0;d<c.childNodes.length;d++)c.childNodes[d].textContent=e[a][b][d]},~~(Math.random()*g))}function c(c){a(".js-file-line-container>tbody>tr>td").each(function(){var d=a(this).attr("id"),e=this;b(c,d,e)})}var d={},e=[],f=2,g=4e3,h=!0,i={};a(".js-file-line-container").find("td").each(function(b){var c=a(this);setTimeout(function(){c.css({opacity:1})},30*b)}),a(".js-file-line-container>tbody>tr>td").each(function(){var b=a(this).attr("id");d[b]=this.childNodes}),console.log(+new Date);var j={};for(var k in d){var l=Array.prototype.reduce.call(d[k],function(a,b,c){return a[c]=b.textContent,a},{});j[k]=[];for(var m in l)j[k][m]=l[m];i[k]={entropy:Entropy.watch(l,3)}}e.push(j);for(var n=0;f>n;n++){var o={};for(var k in i){o[k]=[];for(var m in i[k].entropy)o[k][m]=i[k].entropy[m]}e.push(o)}var p=f-1;c(p--),h=!1;var q=setInterval(function(){return 0>p?void clearInterval(q):(c(p),void p--)},g);console.log(+new Date)},IntroTextAnim=function(){setTimeout(function(){$(".overlay").css("display","block"),$(".overlay").css("display"),$(".overlay").css({opacity:1})},4e3)},HydrostatAnim=function(a){var b=["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"];colorCount=0;var c={interactive:!1,darkTheme:!0,headRadius:0,thickness:20,tentacles:50,friction:.001,gravity:0,colour:b[7],length:50,pulse:!0,wind:-1,windDecay:.96,animDuration:1e3},d={curveThroughPoints:function(a,b){var c,d,e,f,g,h;for(c=1,d=a.length-2;d>c;c++)e=a[c],f=a[c+1],g=.5*(e.x+f.x),h=.5*(e.y+f.y),b.quadraticCurveTo(e.x,e.y,g,h);e=a[c],f=a[c+1],b.quadraticCurveTo(e.x,e.y,f.x,f.y)},randomColor:function(){return{h:360*Math.random(),s:100*(.6+.2*Math.random()),v:100*(.5+.15*Math.random())}},randomSpectral:function(){return++colorCount==b.length&&(colorCount=0),b[colorCount]}},e=function(a,b){this.x=this.ox=a||0,this.y=this.oy=b||0,this.vx=0,this.vy=0},f=function(a){this.length=a.length||10,this.radius=a.radius||10,this.spacing=a.spacing||20,this.friction=a.friction||.8,this.color=a.color,this.shade=random(.85,1.1),this.nodes=[],this.outer=[],this.inner=[],this.theta=[];for(var b=0;b<this.length;b++)this.nodes.push(new e)};f.prototype={move:function(a,b,c){if(this.nodes[0].x=a,this.nodes[0].y=b,c){var d,e;for(d=1;d<this.length;d++)e=this.nodes[d],e.x=a,e.y=b}},update:function(){var a,b,d,e,f,g,h,i,k,l=this.nodes[0],m=this.radius*c.thickness,n=m/this.length;for(a=1,j=0;a<this.length;a++,j++)k=this.nodes[a],k.x+=k.vx,k.y+=k.vy,e=l.x-k.x,f=l.y-k.y,g=Math.atan2(f,e),h=k.x+cos(g)*this.spacing*c.length,i=k.y+sin(g)*this.spacing*c.length,k.x=l.x-(h-k.x),k.y=l.y-(i-k.y),k.vx=k.x-k.ox,k.vy=k.y-k.oy,k.vx*=this.friction*(1-c.friction),k.vy*=this.friction*(1-c.friction),k.vx+=c.wind,k.vy+=c.gravity,k.ox=k.x,k.oy=k.y,b=sin(g+HALF_PI),d=cos(g+HALF_PI),this.outer[j]={x:l.x+d*m,y:l.y+b*m},this.inner[j]={x:l.x-d*m,y:l.y-b*m},this.theta[j]=g,m-=n,l=k},draw:function(a){var b,e,f;b=this.outer[0],f=this.inner[0],a.beginPath(),a.moveTo(b.x,b.y),d.curveThroughPoints(this.outer,a),d.curveThroughPoints(this.inner.reverse(),a),a.lineTo(f.x,f.y),a.closePath(),a.fillStyle=this.color,a.fill(),c.thickness>2&&(e+=c.darkTheme?-10:10,a.strokeStyle=this.color,a.lineWidth=1,a.stroke())}};var g=c.headRadius,h=[],i={x:0,y:0},k=0,l=Sketch.create({container:document.getElementById("container"),fullscreen:!1,width:a("#container").width(),height:a("#container").height(),setup:function(){k=this.millis,i.x=this.width,i.y=0;for(var a,b=0;100>b;b++)a=new f({length:c.length,radius:random(.05,1),spacing:random(.2,1),friction:random(.7,.88),color:d.randomSpectral()}),a.move(i.x,i.y,!0),h.push(a)},update:function(){var a,b,d=this.millis-k;if(d>4e3+c.animDuration){var e=l.canvas;l.destroy(),container.appendChild(e)}a=this.width,b=this.height,phase=HALF_PI,c.wind=c.wind*c.windDecay,d<c.animDuration&&(i.x=a+3*a/4*cos(-phase+d/c.animDuration*(HALF_PI+phase)),i.y=b/2*sin(d/c.animDuration*HALF_PI));for(var f,j,m,n,o=TWO_PI/c.tentacles,p=0,q=c.tentacles;q>p;p++)n=h[p],m=p*o,f=cos(m)*g,j=sin(m)*g,n.move(i.x+f,i.y+j),n.update()},draw:function(){{var a=(.45*c.colour.h,100*c.colour.s*.95,100*c.colour.v*.95);a+(c.darkTheme?-10:10)}this.beginPath(),this.arc(i.x,i.y,g+c.thickness,0,TWO_PI),this.lineWidth=.3*c.headRadius,this.globalAlpha=.2,this.strokeStyle=c.colour,this.stroke(),this.globalAlpha=1;for(var b=0,d=c.tentacles;d>b;b++)h[b].draw(this);this.beginPath(),this.arc(i.x,i.y,g+c.thickness,0,TWO_PI),this.fillStyle=c.colour,this.fill()}})},Skills=function(a,b){function c(){}function d(){s=new THREE.Scene,s.fog=new THREE.Fog(B,.5,700),t=new THREE.PerspectiveCamera(75,C.width()/C.height(),.1,1e5),t.lookAt(s.position),u=new THREE.WebGLRenderer,u.setSize(C.width(),C.height()),u.setClearColor(B),v=new THREE.Clock,C.append(u.domElement),w=new THREE.TrackballControls(t,C[0]),w.noPan=!0,w.rotateSpeed=.7,w.zoomSpeed=.8,w.minDistance=200,w.maxDistance=400,w.dynamicDampingFactor=.1}function e(a,b,c,d){var e,f=new THREE.Geometry;e=d?new THREE.LineDashedMaterial({linewidth:3,color:c,dashSize:50,gapSize:50}):new THREE.LineBasicMaterial({linewidth:3,color:c}),f.vertices.push(a.clone()),f.vertices.push(b.clone()),f.computeLineDistances();var g=new THREE.Line(f,e,THREE.LinePieces);return g}function f(a,b){var c=new THREE.Object3D;c.add(e(a,b,16737095,!1)),s.add(c)}function g(){requestAnimationFrame(g),h(v.getDelta())}function h(){A.forEach(function(a){a.up=t.up;a.geometry;a.lookAt(t.position)}),w.update(),z&&(y.uniforms.amount.value=z.sub(t.position.clone()).length()/1e4),z=t.position.clone(),x.render()}function i(){var a=new Array(1),b=new Array(a.length),c=[],d=[],e=[new THREE.MeshLambertMaterial({color:16777215,shading:THREE.FlatShading,vertexColors:THREE.VertexColors}),new THREE.MeshBasicMaterial({color:0,shading:THREE.FlatShading,wireframe:!0,transparent:!0})],g=(new THREE.PointCloudMaterial({color:1118481,size:2,vertexColors:THREE.VertexColors}),[new THREE.MeshBasicMaterial({color:8947848,wireframe:!0,transparent:!0,opacity:.8})]),h=new THREE.MeshBasicMaterial({wireframe:!0,color:0,transparent:!0,opacity:.05}),i=m(q.length);i.forEach(function(a,b){var e=n(new THREE.Vector3(q[b].value,a.x,a.y)),g=new THREE.Color(16777215);g.setHSL(q[b].value/100,1,.5),d.push(g),c.push(e);var h=n(new THREE.Vector3(150,a.x,a.y)),i=n(new THREE.Vector3(150,a.x,a.y));A.push(k(q[b].name,h)),f(e,i)});for(var j=0;j<a.length;j++){var l=102/a.length*(j+1);b[j]=[],i.forEach(function(a){var c=n(new THREE.Vector3(l,a.x,a.y));b[j].push(c)})}for(var o,p,r=new THREE.ConvexGeometry(c),t=(r.vertices.length,["a","b","c","d"]),j=0;j<r.faces.length;j++){p=r.faces[j],o=p instanceof THREE.Face3?3:4;for(var u=0;o>u;u++)p.vertexColors[u]=d[p[t[u]]]}object=THREE.SceneUtils.createMultiMaterialObject(r,e),object.position.set(0,0,0),s.add(object);for(var j=0;j<a.length;j++)a[j]=THREE.SceneUtils.createMultiMaterialObject(new THREE.ConvexGeometry(b[j]),g),a[j].position.set(0,0,0),s.add(a[j]);[20,40,60,80,100].forEach(function(a){var b=new THREE.SphereGeometry(a,32,32),c=new THREE.Mesh(b,h);s.add(c)})}function j(){lights=[],lights.push(new THREE.PointLight(16777215)),lights[0].position.set(0,0,300),lights[0].intensity=1,lights.push(new THREE.PointLight(16777215)),lights[1].position.set(300,300,0),lights[1].intensity=1,lights.push(new THREE.PointLight(16777215)),lights[2].position.set(-300,0,-300),lights[2].intensity=1,lights.forEach(function(a){a.castShadow=!0,a.shadowCameraVisible=!0}),lights.push(new THREE.AmbientLight(0)),lights.forEach(function(a){s.add(a)})}function k(a,b){var c=new THREE.MeshFaceMaterial([new THREE.MeshLambertMaterial({color:2200782,shading:THREE.FlatShading,ambient:16777215,emissive:0,shininess:0}),new THREE.MeshLambertMaterial({color:2200782,shading:THREE.FlatShading})]);if(size=100,height=80,hover=30,opts={size:8,height:1,curveSegments:4,font:"droid sans",weight:"normal",style:"normal",bevelThickness:2,bevelSize:1.5,bevelEnabled:0,material:0,extrudeMaterial:0},textGeo=new THREE.TextGeometry(a,opts),textGeo.computeBoundingBox(),textGeo.computeVertexNormals(),!opts.bevelEnabled)for(var d=.1*opts.height*opts.size,e=0;e<textGeo.faces.length;e++){var f=textGeo.faces[e];if(1==f.materialIndex){for(var g=0;g<f.vertexNormals.length;g++)f.vertexNormals[g].z=0,f.vertexNormals[g].normalize();var h=textGeo.vertices[f.a],i=textGeo.vertices[f.b],j=textGeo.vertices[f.c],k=THREE.GeometryUtils.triangleArea(h,i,j);if(k>d)for(var g=0;g<f.vertexNormals.length;g++)f.vertexNormals[g].copy(f.normal)}}return textGeo.center(),textMesh1=new THREE.Mesh(textGeo,c),textMesh1.position.set(b.x,b.y,b.z),textMesh1.rotation.x=0,textMesh1.rotation.y=0,s.add(textMesh1),textMesh1}function l(){x=new THREE.EffectComposer(u),x.addPass(new THREE.RenderPass(s,t)),y=new THREE.ShaderPass(THREE.RGBShiftShader),y.uniforms.amount.value=0,y.renderToScreen=!0,x.addPass(y)}function m(a){for(var b,c,d,e=a/2,f=Math.PI,g=Math.round(Math.sqrt(e*f/8)),h=new Array(e),i=f/Math.sin(f/(4*g)),j=0,k=0,l=1;g>l;l++){b=.5*(l-.5)*f/g,d=Math.round(2*f*Math.sin(b)*e/i),j+=d;for(var m=1;d>=m;m++)c=2*(m-.5)*f/d,h[k]=new THREE.Vector2(c,f/2-b),k++}b=.5*(g-.5)*f/g,d=e-j;for(var m=1;d>=m;m++)c=2*(m-.5)*f/d,h[k]=new THREE.Vector2(c,f/2-b),k++;for(var d=0;e>d;d++)h[k]=new THREE.Vector2(h[e-d-1].x,f+h[e-d-1].y),k++;return h}function n(a){var b=a.x*Math.sin(a.z),c=a.x*Math.cos(a.z),d=c*Math.cos(a.y),e=c*Math.sin(a.y);return new THREE.Vector3(d,e,b)}function o(a){var b=cartesianToR(a.x,a.y,a.z),c=cartesianToTheta(a.x,a.y),d=cartesianToPhi(a.x,a.y,a.z);return new THREE.Vector3(b,c,d)}function p(){var a,b=o(new THREE.Vector3(t.position.z,t.position.x,t.position.y)),c=b.clone().add(new THREE.Vector3(0,0,2*Math.PI));TweenMax.to(b,3,{x:c.x,y:c.y,z:c.z,ease:Circ.easeOut,onUpdate:function(){a=n(b),t.position.set(a.x,a.y,a.z)}})}var q=CV.skills,r=ace.edit(b("#skills .editor")[0]);r.setValue(JSON.stringify(q,null,4)),a.adjustEditor(r);var s,t,u,v,w,x,y,z,A=(a.innerWidth/2,a.innerHeight/2,[]),B=new THREE.Color;B.setHSL(0,0,.95);var C=b("#skills > div.skills-canvas");return cartesianToR=function(a,b,c){return Math.sqrt(a*a+b*b+c*c)},cartesianToPhi=function(a,b,c){return 2==arguments.length?b>=0?Math.acos(b/a):-Math.acos(b/a):c>=0?Math.acos(c/this.cartesianToR(a,b,c)):-Math.acos(c/this.cartesianToR(a,b,c))},cartesianToTheta=function(a,b){var c=4*Math.atan(1);return 0==a?b>=0?c/2:-c/2:0==b?a>=0?0:c:a>=0?Math.atan(b/a):Math.atan(b/a)+c},start=function(){d(),l(),i(),j(),g(),t.position.z=280,t.position.y=0,t.position.x=0,a.addEventListener("resize",function(){var a=C.width(),b=C.height();t.aspect=a/b,t.updateProjectionMatrix(),u.setSize(a,b)},!1)},start(),b(a).on("skills-enter",function(){p(),c(),setInterval(c,12e3)}),{startRotateAnimation:p}},Lab=function(a,b){function c(c,d){var e=a("#lab .menu").width()*-d,h=a("#lab .menu-body");b.to(h,1,{x:e,opacity:0,ease:Power4.easeInOut,onComplete:function(){var d=c.difficulty;a("#lab .lab-title").text(c.name),a("#lab-description").html(c.description),a("#lab-tags").empty(),c.tags.forEach(function(b){a("#lab-tags").append(a("<li>").text(b))}),a("#lab-reflist").empty(),c.refs.forEach(function(b){a("#lab-reflist").append(a("<li>").append(a("<span>").addClass(g[b.type]["class"]).attr("title",g[b.type].title),a("<a>").attr({href:b.url,target:"_blank"}).text(f.parse(b.url).host)))}),b.fromTo(h,1,{opacity:0,x:-e},{opacity:1,x:0,delay:.1,ease:Power4.easeInOut,onComplete:function(){d3.select("#lab-difficulty-mask").animate().attr({width:95*d/5+4*parseInt(d)})}})}})}function d(b,d){var e=h[b];a("#lab-background").remove();var f=a("<img>").appendTo("#lab").attr({src:e.backgroundLink,id:"lab-background",height:a("#lab-foreground").height()}).load(function(){var b=parseInt((a("#lab-foreground").width()-a("#lab-background").width())/2);a("#lab-foreground-img").attr({src:e.backgroundLink}).css({left:b}),f.attr({"data-offset-left":b,"data-offset-top":0}),a("#lab-background")[0].closePixelate([{shape:"diamond",resolution:12,size:12},{shape:"diamond",resolution:12,offset:6},{resolution:12,alpha:.5}])});a("#lab-foreground").find("a").attr("href",e.url),c(e,d)}var e=(Power4.easeInOut,0),f=new URLParser({convert:!1});a(window).on("lab-enter",function(){d(e)});var g={image:{"class":"icon-image-outline",title:"Image"},src:{"class":"icon-code-outline",title:"Source Code"},doc:{"class":"icon-document-text",title:"Article"},video:{"class":"icon-film",title:"Video"}},h=CV.labs;a('#lab a[href="#lab-next"]').click(function(a){a.preventDefault(),++e==h.length&&(e=0),d(e,1)}),a('#lab a[href="#lab-prev"]').click(function(a){a.preventDefault(),-1==--e&&(e=h.length-1),d(e,-1)})},About=function(){function a(){var a={},f=window.innerWidth/2*.9,g=Math.min(.8*window.innerHeight,900),h=10+parseInt(g/720*30),i=h+15,j=100+parseInt(f/960*400),k=90,l=20;F=function(a){var b,c=Array.prototype.slice.call(arguments,1);return function(d){return"function"==typeof(b=d[a])?b.apply(d,c):b}},I=function(a){return a},strongInOut=function(a){var b=0,c=1,d=1;return a/=d/2,1>a?-c/2*(Math.sqrt(1-a*a)-1)+b:(a-=2,c/2*(Math.sqrt(1-a*a)+1)+b)},d3.selection.prototype.animate=function(a){!a&&(a={});var b=a.duration?a.duration:1500,c=a.ease?a.ease:d3.ease("exp-out"),d=a.delay?a.delay:0;delete a.duration;var e=this.transition().ease(c).duration(b).delay(d);return e},c.attr({width:2*f,height:g}),b.attr({width:2*f,height:g,viewBox:"0 0 "+2*f+" "+g});var m=300,n=1e3,o=1500,p=o-400,q=1500,r=e.love.length>e.hate.length?e.love:e.hate,s=d3.scale.ordinal().rangeRoundBands([i,g],.2).domain(d3.keys(r));c.append("line").attr({"class":"vertical-line",x1:f,y1:0,x2:f,y2:0}).animate({delay:m+n+p}).attr({y2:g});for(var t in e){var u=f-j,v=d[t];e[t].sort(function(a,b){return b.value-a.value});var w=e[t].map(F("value")),x="hate"==t,y=c.append("g").attr({"class":t});a[t]=y;var z=d3.sum(w),A=(d3.scale.linear().domain([0,d3.max(w)]).rangeRound([0,f]).nice(),d3.scale.linear().domain([0,z]).rangeRound([0,f-j])),B=y.append("g").selectAll("."+t+"-text").data(v),C=B.enter().append("text");C.attr({"class":t+"-text title",
dy:function(a){var c=b.select("#svg-"+a.id),d=c.node().getBoundingClientRect().width,e=c.node().getBoundingClientRect().height,g=x?j-d-l:2*f-j+l;return c.attr("transform","translate("+g+","+(s.range()[0]-i+h/2-e/2)+")").style({visibility:"visible",opacity:0}).animate({duration:q,delay:function(){return m+n},ease:"linear"}).style({opacity:1}),s.range()[0]-i+h/2-e/2},"dominant-baseline":"hanging ",dx:f,opacity:0,"text-anchor":function(){return x?"end":"begin"}}).text(function(a){return a.name}),C.animate({duration:n,delay:function(){return m}}).attr({dx:function(){return x?j-k:2*f-j+k},opacity:1});var D=(y.append("g").append("rect").attr({"class":t+"-item "+t+"-parent",width:0,y:s.range()[0]-i,height:h,x:f,fill:"none"}).animate({ease:strongInOut,duration:n,delay:m}).attr({x:x?j:f,width:A(z)}),y.append("g").selectAll("."+t+"-item").data(w)),E=D.enter().append("rect");E.attr({"class":t+"-item",width:0,y:s.range()[0]-i,height:h,x:f}),E.animate({ease:strongInOut,duration:n,delay:m}).attr({x:function(a){var b;return x?(b=f-u,u-=A(a)):(u-=A(a),b=f+u),b},width:A}),E.animate({delay:o+n+m}).attr({y:function(a,b){return s(b)}});var G=y.append("g").selectAll("."+t+"-text").data(e[t]),H=G.enter().append("text");H.attr({"class":t+"-text",dy:function(a,c){var d=b.select("#svg-"+a.id),e=d.node().getBoundingClientRect().width,g=d.node().getBoundingClientRect().height,i=x?j-e-l:2*f-j+l;return d.attr("transform","translate("+i+","+(s(c)-g/2+h/2)+")").style({visibility:"visible",opacity:0}).animate({duration:q,delay:function(a,b){return m+n+p+q+40*b},ease:"linear"}).style({opacity:1}),s(c)},"dominant-baseline":"hanging ",dx:f,opacity:0,"text-anchor":function(){return x?"end":"begin"}}).text(function(a){return a.name}),H.animate({duration:q,delay:function(a,b){return m+n+p+40*b}}).attr({dx:function(){return x?j-k:2*f-j+k},opacity:1});var J=y.append("g").selectAll("."+t+"desc-text").data(e[t]),K=J.enter().append("text");K.attr({"class":t+"desc-text",dy:function(a,b){return s(b)},"dominant-baseline":"hanging",dx:function(){return x?j-k:2*f-j+k},opacity:0,"text-anchor":function(){return x?"end":"begin"}}).text(function(a){return a.desc}),K.animate({delay:function(a,b){return m+n+p+q+40*b}}).attr({dy:function(a,b){return s(b)+h/2},opacity:1})}}var b,c=d3.select("#love-hate-chart");d3.xml("img/love-hate.svg","image/svg+xml",function(c){var d=document.importNode(c.documentElement,!0);document.getElementById("svg-container").appendChild(d),b=d3.select("#love-hate-icons"),a()});var d={love:[{name:"What I Love",id:"love"}],hate:[{name:"What I Hate",id:"hate"}]},e=CV.about},Contact=function(){function a(){k.start(),o=o.data(h.links,function(a){return a.source.index+"-"+a.target.index}),o.enter().append("line").attr("class",function(a){return 0==a.source.index?"link parent-link":"link children-link"}),o.exit().remove(),p=p.data(h.nodes,function(a){return a.index}),g=p.enter().append("g").attr("class","gnode").attr("transform",function(a){return"translate("+a.x+","+a.y+")"}).call(k.drag),p.exit().remove(),g.append("circle").attr("class","node").attr("r",function(a){return a.size}).style("fill",function(a){return a.color}).style("stroke",function(a){return d3.rgb(a.color).darker(1.2)}).attr("title",function(a){return a.name}),g.append("svg:a").attr("xlink:href",function(a){return a.href}).attr("target","_blank").append("image").attr("xlink:href",function(a){return a.icon}).attr("x",function(a){return-a.size}).attr("y",function(a){return-a.size}).attr("width",function(a){return 2*a.size}).attr("height",function(a){return 2*a.size})}function b(){o.attr("x1",function(a){return a.source.x}).attr("y1",function(a){return a.source.y}).attr("x2",function(a){return a.target.x}).attr("y2",function(a){return a.target.y}),p.attr("transform",function(a){return"translate("+a.x+","+a.y+")"})}var c=CV.contact,d=c.links,e=c.passiveLinks,f=[{source:1,target:d.length-1}];d.forEach(function(a,b){0!=b&&f.push({source:0,target:b}),0!=b&&b<d.length-1&&f.push({source:b,target:b+1})}),d=d.concat(e);var h={nodes:[],links:[]};$("#contact-cv").attr("href",c.cv);var i=$("#contact-svg-container").width(),j=$("#contact-svg-container").height();d.forEach(function(a,b){if(0==b)a.x=i/2,a.y=j/2;else{var c=2*Math.PI*(b-1)/(d.length-1);a.x=i/2+250*Math.cos(c),a.y=j/2+250*Math.sin(c)}});var k=d3.layout.force().nodes(h.nodes).links(h.links).gravity(.1).size([i,j]).linkDistance(function(a){return 0==a.source?300:150}).linkStrength(function(a){return 0==a.source?0:.9}).charge(function(a,b){return 0==b?0:-1e3}).on("tick",b),l=d3.select("#contact-svg-container").append("svg").attr("width",i).attr("height",j);l.attr({xmlns:"http://www.w3.org/2000/svg","xmlns:xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"});var m=l.append("g").attr("class","g-link"),n=l.append("g").attr("class","g-node"),o=m.selectAll(".link"),p=n.selectAll(".node");a();var q=d.length,r=0,s=setInterval(function(){var b=d.shift();h.nodes.push(b);var c=f.filter(function(a){return a.target==r});c.forEach(function(a){h.links.push(a)}),a(),++r==q&&clearInterval(s)},300)},d3.selection.prototype.animate=function(a){!a&&(a={});var b=a.duration?a.duration:1500,c=a.ease?a.ease:d3.ease("exp-out"),d=a.delay?a.delay:0;delete a.duration;var e=this.transition().ease(c).duration(b).delay(d);return e},Portfolio={start:function(){TweenMax.to($("header"),0,{y:-$("header").height()}),TweenMax.to($("#main .full-wh-footer"),0,{y:$("#main .full-wh-footer").height()}),$("header").show(),$("#main .full-wh-footer").show(),greetings(window);{var a=CodeAnim(jQuery);Skills(window,jQuery),Works(),Lab(jQuery,TweenMax)}a.init(function(){var b=$(window),c=1.2,d=$(window).height();$(".btn-next, nav>ul>li>a").click(function(a){a.preventDefault();var d=$(this).attr("href");$(window).trigger(d+"-click");var e=$(d).position().top;console.log(e),TweenMax.to(b,c,{scrollTo:{y:e,autoKill:!0},ease:Strong.easeInOut,autoKill:!0,overwrite:5})}),setTimeout(function(){HydrostatAnim(jQuery),IntroTextAnim(jQuery)},1e3*c),TweenMax.to(b,c,{scrollTo:{y:d,autoKill:!0},ease:Strong.easeInOut,autoKill:!0,delay:1,overwrite:5,onComplete:function(){$("#intro").css("visibility","hidden"),CodeAnim(jQuery),setTimeout(a.start,2500),setTimeout(freeScroll,4e3),initListeners()}})})}};