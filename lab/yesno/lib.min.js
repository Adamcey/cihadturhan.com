//OBJ Export
THREE.OBJLoader=function(e,t){this.manager=e!==undefined?e:THREE.DefaultLoadingManager;this.material=t!==undefined?t:new THREE.MeshPhongMaterial({ambient:5592405,color:16777215,specular:1118481,shininess:30})};THREE.OBJLoader.prototype={constructor:THREE.OBJLoader,load:function(e,t,n,r){var i=document.getElementById(e);var s=i.textContent;t(this.parse(s))},parse:function(e){function t(e,t,n){return new THREE.Vector3(parseFloat(e),parseFloat(t),parseFloat(n))}function n(e,t){return new THREE.Vector2(parseFloat(e),parseFloat(t))}function r(e,t,n,r){return new THREE.Face3(e,t,n,r)}function a(e){e=parseInt(e);return e>=0?e-1:e+d.length}function f(e){e=parseInt(e);return e>=0?e-1:e+v.length}function l(e){e=parseInt(e);return e>=0?e-1:e+m.length}function c(e,t,n,i){if(i===undefined){s.faces.push(r(d[a(e)]-1,d[a(t)]-1,d[a(n)]-1))}else{s.faces.push(r(d[a(e)]-1,d[a(t)]-1,d[a(n)]-1,[v[f(i[0])].clone(),v[f(i[1])].clone(),v[f(i[2])].clone()]))}}function h(e,t,n){s.faceVertexUvs[0].push([m[l(e)].clone(),m[l(t)].clone(),m[l(n)].clone()])}function p(e,t,n){if(e[3]===undefined){c(e[0],e[1],e[2],n);if(t!==undefined&&t.length>0){h(t[0],t[1],t[2])}}else{if(n!==undefined&&n.length>0){c(e[0],e[1],e[3],[n[0],n[1],n[3]]);c(e[1],e[2],e[3],[n[1],n[2],n[3]])}else{c(e[0],e[1],e[3]);c(e[1],e[2],e[3])}if(t!==undefined&&t.length>0){h(t[0],t[1],t[3]);h(t[1],t[2],t[3])}}}var i=new THREE.Object3D;var s,o=this.material,u;if(/^o /gm.test(e)===false){s=new THREE.Geometry;u=new THREE.Mesh(s,o);i.add(u)}var d=[];var v=[];var m=[];var g=/v( +[\d|\.|\+|\-|e]+)( +[\d|\.|\+|\-|e]+)( +[\d|\.|\+|\-|e]+)/;var y=/vn( +[\d|\.|\+|\-|e]+)( +[\d|\.|\+|\-|e]+)( +[\d|\.|\+|\-|e]+)/;var b=/vt( +[\d|\.|\+|\-|e]+)( +[\d|\.|\+|\-|e]+)/;var w=/f( +-?\d+)( +-?\d+)( +-?\d+)( +-?\d+)?/;var E=/f( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))?/;var S=/f( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))?/;var x=/f( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))?/;var T=e.split("\n");for(var N=0;N<T.length;N++){var C=T[N];C=C.trim();var k;if(C.length===0||C.charAt(0)==="#"){continue}else if((k=g.exec(C))!==null){d.push(s.vertices.push(t(k[1],k[2],k[3])))}else if((k=y.exec(C))!==null){v.push(t(k[1],k[2],k[3]))}else if((k=b.exec(C))!==null){m.push(n(k[1],k[2]))}else if((k=w.exec(C))!==null){p([k[1],k[2],k[3],k[4]])}else if((k=E.exec(C))!==null){p([k[2],k[5],k[8],k[11]],[k[3],k[6],k[9],k[12]])}else if((k=S.exec(C))!==null){p([k[2],k[6],k[10],k[14]],[k[3],k[7],k[11],k[15]],[k[4],k[8],k[12],k[16]])}else if((k=x.exec(C))!==null){p([k[2],k[5],k[8],k[11]],[],[k[3],k[6],k[9],k[12]])}else if(/^o /.test(C)){s=new THREE.Geometry;u=new THREE.Mesh(s,o);u.name=C.substring(2).trim();i.add(u)}else if(/^g /.test(C)){}else if(/^usemtl /.test(C)){o.name=C.substring(7).trim()}else if(/^mtllib /.test(C)){}else if(/^s /.test(C)){}else{}}var L=i.children;for(var N=0,A=L.length;N<A;N++){var s=L[N].geometry;s.computeFaceNormals();s.computeBoundingSphere()}return i}}
// tween.js - http://github.com/sole/tween.js
'use strict';void 0===Date.now&&(Date.now=function(){return(new Date).valueOf()});
var TWEEN=TWEEN||function(){var a=[];return{REVISION:"13",getAll:function(){return a},removeAll:function(){a=[]},add:function(c){a.push(c)},remove:function(c){c=a.indexOf(c);-1!==c&&a.splice(c,1)},update:function(c){if(0===a.length)return!1;for(var b=0,c=void 0!==c?c:"undefined"!==typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now();b<a.length;)a[b].update(c)?b++:a.splice(b,1);return!0}}}();
TWEEN.Tween=function(a){var c={},b={},d={},e=1E3,g=0,h=!1,j=!1,q=0,m=null,w=TWEEN.Easing.Linear.None,x=TWEEN.Interpolation.Linear,n=[],r=null,s=!1,t=null,u=null,k=null,v;for(v in a)c[v]=parseFloat(a[v],10);this.to=function(a,c){void 0!==c&&(e=c);b=a;return this};this.start=function(e){TWEEN.add(this);j=!0;s=!1;m=void 0!==e?e:"undefined"!==typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now();m+=q;for(var f in b){if(b[f]instanceof Array){if(0===
b[f].length)continue;b[f]=[a[f]].concat(b[f])}c[f]=a[f];!1===c[f]instanceof Array&&(c[f]*=1);d[f]=c[f]||0}return this};this.stop=function(){if(!j)return this;TWEEN.remove(this);j=!1;null!==k&&k.call(a);this.stopChainedTweens();return this};this.stopChainedTweens=function(){for(var a=0,b=n.length;a<b;a++)n[a].stop()};this.delay=function(a){q=a;return this};this.repeat=function(a){g=a;return this};this.yoyo=function(a){h=a;return this};this.easing=function(a){w=a;return this};this.interpolation=function(a){x=
a;return this};this.chain=function(){n=arguments;return this};this.onStart=function(a){r=a;return this};this.onUpdate=function(a){t=a;return this};this.onComplete=function(a){u=a;return this};this.onStop=function(a){k=a;return this};this.update=function(p){var f;if(p<m)return!0;!1===s&&(null!==r&&r.call(a),s=!0);var i=(p-m)/e,i=1<i?1:i,j=w(i);for(f in b){var k=c[f]||0,l=b[f];l instanceof Array?a[f]=x(l,j):("string"===typeof l&&(l=k+parseFloat(l,10)),"number"===typeof l&&(a[f]=k+(l-k)*j))}null!==t&&
t.call(a,j);if(1==i)if(0<g){isFinite(g)&&g--;for(f in d)"string"===typeof b[f]&&(d[f]+=parseFloat(b[f],10)),h&&(i=d[f],d[f]=b[f],b[f]=i),c[f]=d[f];m=p+q}else{null!==u&&u.call(a);f=0;for(i=n.length;f<i;f++)n[f].start(p);return!1}return!0}};
TWEEN.Easing={Linear:{None:function(a){return a}},Quadratic:{In:function(a){return a*a},Out:function(a){return a*(2-a)},InOut:function(a){return 1>(a*=2)?0.5*a*a:-0.5*(--a*(a-2)-1)}},Cubic:{In:function(a){return a*a*a},Out:function(a){return--a*a*a+1},InOut:function(a){return 1>(a*=2)?0.5*a*a*a:0.5*((a-=2)*a*a+2)}},Quartic:{In:function(a){return a*a*a*a},Out:function(a){return 1- --a*a*a*a},InOut:function(a){return 1>(a*=2)?0.5*a*a*a*a:-0.5*((a-=2)*a*a*a-2)}},Quintic:{In:function(a){return a*a*a*
a*a},Out:function(a){return--a*a*a*a*a+1},InOut:function(a){return 1>(a*=2)?0.5*a*a*a*a*a:0.5*((a-=2)*a*a*a*a+2)}},Sinusoidal:{In:function(a){return 1-Math.cos(a*Math.PI/2)},Out:function(a){return Math.sin(a*Math.PI/2)},InOut:function(a){return 0.5*(1-Math.cos(Math.PI*a))}},Exponential:{In:function(a){return 0===a?0:Math.pow(1024,a-1)},Out:function(a){return 1===a?1:1-Math.pow(2,-10*a)},InOut:function(a){return 0===a?0:1===a?1:1>(a*=2)?0.5*Math.pow(1024,a-1):0.5*(-Math.pow(2,-10*(a-1))+2)}},Circular:{In:function(a){return 1-
Math.sqrt(1-a*a)},Out:function(a){return Math.sqrt(1- --a*a)},InOut:function(a){return 1>(a*=2)?-0.5*(Math.sqrt(1-a*a)-1):0.5*(Math.sqrt(1-(a-=2)*a)+1)}},Elastic:{In:function(a){var c,b=0.1;if(0===a)return 0;if(1===a)return 1;!b||1>b?(b=1,c=0.1):c=0.4*Math.asin(1/b)/(2*Math.PI);return-(b*Math.pow(2,10*(a-=1))*Math.sin((a-c)*2*Math.PI/0.4))},Out:function(a){var c,b=0.1;if(0===a)return 0;if(1===a)return 1;!b||1>b?(b=1,c=0.1):c=0.4*Math.asin(1/b)/(2*Math.PI);return b*Math.pow(2,-10*a)*Math.sin((a-c)*
2*Math.PI/0.4)+1},InOut:function(a){var c,b=0.1;if(0===a)return 0;if(1===a)return 1;!b||1>b?(b=1,c=0.1):c=0.4*Math.asin(1/b)/(2*Math.PI);return 1>(a*=2)?-0.5*b*Math.pow(2,10*(a-=1))*Math.sin((a-c)*2*Math.PI/0.4):0.5*b*Math.pow(2,-10*(a-=1))*Math.sin((a-c)*2*Math.PI/0.4)+1}},Back:{In:function(a){return a*a*(2.70158*a-1.70158)},Out:function(a){return--a*a*(2.70158*a+1.70158)+1},InOut:function(a){return 1>(a*=2)?0.5*a*a*(3.5949095*a-2.5949095):0.5*((a-=2)*a*(3.5949095*a+2.5949095)+2)}},Bounce:{In:function(a){return 1-
TWEEN.Easing.Bounce.Out(1-a)},Out:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375},InOut:function(a){return 0.5>a?0.5*TWEEN.Easing.Bounce.In(2*a):0.5*TWEEN.Easing.Bounce.Out(2*a-1)+0.5}}};
TWEEN.Interpolation={Linear:function(a,c){var b=a.length-1,d=b*c,e=Math.floor(d),g=TWEEN.Interpolation.Utils.Linear;return 0>c?g(a[0],a[1],d):1<c?g(a[b],a[b-1],b-d):g(a[e],a[e+1>b?b:e+1],d-e)},Bezier:function(a,c){var b=0,d=a.length-1,e=Math.pow,g=TWEEN.Interpolation.Utils.Bernstein,h;for(h=0;h<=d;h++)b+=e(1-c,d-h)*e(c,h)*a[h]*g(d,h);return b},CatmullRom:function(a,c){var b=a.length-1,d=b*c,e=Math.floor(d),g=TWEEN.Interpolation.Utils.CatmullRom;return a[0]===a[b]?(0>c&&(e=Math.floor(d=b*(1+c))),g(a[(e-
1+b)%b],a[e],a[(e+1)%b],a[(e+2)%b],d-e)):0>c?a[0]-(g(a[0],a[0],a[1],a[1],-d)-a[0]):1<c?a[b]-(g(a[b],a[b],a[b-1],a[b-1],d-b)-a[b]):g(a[e?e-1:0],a[e],a[b<e+1?b:e+1],a[b<e+2?b:e+2],d-e)},Utils:{Linear:function(a,c,b){return(c-a)*b+a},Bernstein:function(a,c){var b=TWEEN.Interpolation.Utils.Factorial;return b(a)/b(c)/b(a-c)},Factorial:function(){var a=[1];return function(c){var b=1,d;if(a[c])return a[c];for(d=c;1<d;d--)b*=d;return a[c]=b}}(),CatmullRom:function(a,c,b,d,e){var a=0.5*(b-a),d=0.5*(d-c),g=
e*e;return(2*c-2*b+a+d)*e*g+(-3*c+3*b-2*a-d)*g+a*e+c}}};
//Orbit Controls
THREE.OrbitControls=function(e,t){function N(){return 2*Math.PI/60/60*n.autoRotateSpeed}function C(){return Math.pow(.95,n.zoomSpeed)}function k(e){if(n.enabled===false)return;e.preventDefault();if(e.button===0){if(n.noRotate===true)return;E=w.ROTATE;i.set(e.clientX,e.clientY)}else if(e.button===1){if(n.noZoom===true)return;E=w.DOLLY;h.set(e.clientX,e.clientY)}else if(e.button===2){if(n.noPan===true)return;E=w.PAN;u.set(e.clientX,e.clientY)}n.domElement.addEventListener("mousemove",L,false);n.domElement.addEventListener("mouseup",A,false);n.dispatchEvent(x)}function L(e){if(n.enabled===false)return;e.preventDefault();var t=n.domElement===document?n.domElement.body:n.domElement;if(E===w.ROTATE){if(n.noRotate===true)return;s.set(e.clientX,e.clientY);o.subVectors(s,i);n.rotateLeft(2*Math.PI*o.x/t.clientWidth*n.rotateSpeed);n.rotateUp(2*Math.PI*o.y/t.clientHeight*n.rotateSpeed);i.copy(s)}else if(E===w.DOLLY){if(n.noZoom===true)return;p.set(e.clientX,e.clientY);d.subVectors(p,h);if(d.y>0){n.dollyIn()}else{n.dollyOut()}h.copy(p)}else if(E===w.PAN){if(n.noPan===true)return;a.set(e.clientX,e.clientY);f.subVectors(a,u);n.pan(f.x,f.y);u.copy(a)}n.update()}function A(){if(n.enabled===false)return;n.domElement.removeEventListener("mousemove",L,false);n.domElement.removeEventListener("mouseup",A,false);n.dispatchEvent(T);E=w.NONE}function O(e){if(n.enabled===false||n.noZoom===true)return;e.preventDefault();var t=0;if(e.wheelDelta!==undefined){t=e.wheelDelta}else if(e.detail!==undefined){t=-e.detail}if(t>0){n.dollyOut()}else{n.dollyIn()}n.update();n.dispatchEvent(x);n.dispatchEvent(T)}function M(e){if(n.enabled===false||n.noKeys===true||n.noPan===true)return;switch(e.keyCode){case n.keys.UP:n.pan(0,n.keyPanSpeed);n.update();break;case n.keys.BOTTOM:n.pan(0,-n.keyPanSpeed);n.update();break;case n.keys.LEFT:n.pan(n.keyPanSpeed,0);n.update();break;case n.keys.RIGHT:n.pan(-n.keyPanSpeed,0);n.update();break}}function _(e){if(n.enabled===false)return;switch(e.touches.length){case 1:if(n.noRotate===true)return;E=w.TOUCH_ROTATE;i.set(e.touches[0].pageX,e.touches[0].pageY);break;case 2:if(n.noZoom===true)return;E=w.TOUCH_DOLLY;var t=e.touches[0].pageX-e.touches[1].pageX;var r=e.touches[0].pageY-e.touches[1].pageY;var s=Math.sqrt(t*t+r*r);h.set(0,s);break;case 3:if(n.noPan===true)return;E=w.TOUCH_PAN;u.set(e.touches[0].pageX,e.touches[0].pageY);break;default:E=w.NONE}n.dispatchEvent(x)}function D(e){if(n.enabled===false)return;e.preventDefault();e.stopPropagation();var t=n.domElement===document?n.domElement.body:n.domElement;switch(e.touches.length){case 1:if(n.noRotate===true)return;if(E!==w.TOUCH_ROTATE)return;s.set(e.touches[0].pageX,e.touches[0].pageY);o.subVectors(s,i);n.rotateLeft(2*Math.PI*o.x/t.clientWidth*n.rotateSpeed);n.rotateUp(2*Math.PI*o.y/t.clientHeight*n.rotateSpeed);i.copy(s);n.update();break;case 2:if(n.noZoom===true)return;if(E!==w.TOUCH_DOLLY)return;var r=e.touches[0].pageX-e.touches[1].pageX;var l=e.touches[0].pageY-e.touches[1].pageY;var c=Math.sqrt(r*r+l*l);p.set(0,c);d.subVectors(p,h);if(d.y>0){n.dollyOut()}else{n.dollyIn()}h.copy(p);n.update();break;case 3:if(n.noPan===true)return;if(E!==w.TOUCH_PAN)return;a.set(e.touches[0].pageX,e.touches[0].pageY);f.subVectors(a,u);n.pan(f.x,f.y);u.copy(a);n.update();break;default:E=w.NONE}}function P(){if(n.enabled===false)return;n.dispatchEvent(T);E=w.NONE}this.object=e;this.domElement=t!==undefined?t:document;this.enabled=true;this.target=new THREE.Vector3;this.center=this.target;this.noZoom=false;this.zoomSpeed=1;this.minDistance=0;this.maxDistance=Infinity;this.noRotate=false;this.rotateSpeed=1;this.noPan=false;this.keyPanSpeed=7;this.autoRotate=false;this.autoRotateSpeed=2;this.minPolarAngle=0;this.maxPolarAngle=Math.PI;this.noKeys=false;this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40};var n=this;var r=1e-6;var i=new THREE.Vector2;var s=new THREE.Vector2;var o=new THREE.Vector2;var u=new THREE.Vector2;var a=new THREE.Vector2;var f=new THREE.Vector2;var l=new THREE.Vector3;var c=new THREE.Vector3;var h=new THREE.Vector2;var p=new THREE.Vector2;var d=new THREE.Vector2;var v=0;var m=0;var g=1;var y=new THREE.Vector3;var b=new THREE.Vector3;var w={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5};var E=w.NONE;this.target0=this.target.clone();this.position0=this.object.position.clone();var S={type:"change"};var x={type:"start"};var T={type:"end"};this.rotateLeft=function(e){if(e===undefined){e=N()}m-=e};this.rotateUp=function(e){if(e===undefined){e=N()}v-=e};this.panLeft=function(e){var t=this.object.matrix.elements;l.set(t[0],t[1],t[2]);l.multiplyScalar(-e);y.add(l)};this.panUp=function(e){var t=this.object.matrix.elements;l.set(t[4],t[5],t[6]);l.multiplyScalar(e);y.add(l)};this.pan=function(e,t){var r=n.domElement===document?n.domElement.body:n.domElement;if(n.object.fov!==undefined){var i=n.object.position;var s=i.clone().sub(n.target);var o=s.length();o*=Math.tan(n.object.fov/2*Math.PI/180);n.panLeft(2*e*o/r.clientHeight);n.panUp(2*t*o/r.clientHeight)}else if(n.object.top!==undefined){n.panLeft(e*(n.object.right-n.object.left)/r.clientWidth);n.panUp(t*(n.object.top-n.object.bottom)/r.clientHeight)}else{console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.")}};this.dollyIn=function(e){if(e===undefined){e=C()}g/=e};this.dollyOut=function(e){if(e===undefined){e=C()}g*=e};this.update=function(){var e=this.object.position;c.copy(e).sub(this.target);var t=Math.atan2(c.x,c.z);var n=Math.atan2(Math.sqrt(c.x*c.x+c.z*c.z),c.y);if(this.autoRotate){this.rotateLeft(N())}t+=m;n+=v;n=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,n));n=Math.max(r,Math.min(Math.PI-r,n));var i=c.length()*g;i=Math.max(this.minDistance,Math.min(this.maxDistance,i));this.target.add(y);c.x=i*Math.sin(n)*Math.sin(t);c.y=i*Math.cos(n);c.z=i*Math.sin(n)*Math.cos(t);e.copy(this.target).add(c);this.object.lookAt(this.target);m=0;v=0;g=1;y.set(0,0,0);if(b.distanceTo(this.object.position)>0){this.dispatchEvent(S);b.copy(this.object.position)}};this.reset=function(){E=w.NONE;this.target.copy(this.target0);this.object.position.copy(this.position0);this.update()};this.domElement.addEventListener("contextmenu",function(e){e.preventDefault()},false);this.domElement.addEventListener("mousedown",k,false);this.domElement.addEventListener("mousewheel",O,false);this.domElement.addEventListener("DOMMouseScroll",O,false);this.domElement.addEventListener("touchstart",_,false);this.domElement.addEventListener("touchend",P,false);this.domElement.addEventListener("touchmove",D,false);window.addEventListener("keydown",M,false)};THREE.OrbitControls.prototype=Object.create(THREE.EventDispatcher.prototype)
